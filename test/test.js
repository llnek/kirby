/*Auto generated by Kirby v1.0.0 - Thu Jun 17 2021 02:29:26 GMT-0700 (Pacific Daylight Time)
  czlab.kirby.test.stdlib
{"doc" "" "author" "Kenneth Leung"}
*/

const std = require("kirby");
const set_QMRK = std["set_QMRK"];
const map_QMRK = std["map_QMRK"];
const conj_BANG = std["conj_BANG"];
const println = std["println"];
const inc = std["inc"];
const dec = std["dec"];
const rseq = std["rseq"];
const str_STAR = std["str_STAR"];
const split_DASH_with = std["split_DASH_with"];
const take_DASH_while = std["take_DASH_while"];
const drop_DASH_while = std["drop_DASH_while"];
const kirbystdlibref = std;
const __module_namespace__ = "czlab.kirby.test.stdlib";
var s = std;
var TMPVAR = null;
////////////////////////////////////////////////////////////////////////////////
//fn: [mult3] in file: test.ky, line: 27
const mult3 = function(x) {
  return (3 * x);
};
////////////////////////////////////////////////////////////////////////////////
//fn: [add2] in file: test.ky, line: 28
const add2 = function(x) {
  return (2 + x);
};
////////////////////////////////////////////////////////////////////////////////
//fn: [exlog] in file: test.ky, line: 31
const exlog = function(expr, log) {
  return function(s) {
    let v = s.value;
    let v_QUOT = expr(v);
    let msg = str_STAR(log, "(", v, ")");
    let log_QUOT = std.conj(s.log, msg);
    return [v_QUOT, {
      "value": v_QUOT,
      "log": log_QUOT
    }];
  };
};
const test_DASH_stdlib = function() {
  let ____args = Array.prototype.slice.call(arguments);
  return [kirbystdlibref.ensure_DASH_test((!(0 === kirbystdlibref.count([1]))), "not empty?"), kirbystdlibref.ensure_DASH_test((0 === kirbystdlibref.count(new Set([]))), "empty?"), kirbystdlibref.ensure_DASH_test("abc".startsWith("a"), "string starts?"), kirbystdlibref.ensure_DASH_test("abc".endsWith("c"), "string ends?"), kirbystdlibref.ensure_DASH_test((3 === kirbystdlibref.count([1, 2, 3])), "n#"), kirbystdlibref.ensure_DASH_test((1 === [1, 2][0]), "1st"), kirbystdlibref.ensure_DASH_test((2 === [1, 2][1]), "2nd"), kirbystdlibref.ensure_DASH_test((3 === [1, 2, 3][2]), "3rd"), kirbystdlibref.ensure_DASH_test((1 === kirbystdlibref.getProp(Array.prototype.slice.call([1, 2], 0, -1), 0)), "slice,a,b"), kirbystdlibref.ensure_DASH_test((2 === kirbystdlibref.getProp(Array.prototype.slice.call([1, 2], 1), 0)), "slice,a"), kirbystdlibref.ensure_DASH_test((parseFloat("1.2") === 1.2), "float"), kirbystdlibref.ensure_DASH_test((parseInt("12") === 12), "int"), kirbystdlibref.ensure_DASH_test((!std.eq_QMRK(s.keyword(":aaa"), "aaa")), "!eq? keywords"), kirbystdlibref.ensure_DASH_test((s.keyword(":aaa") == "aaa"), "match keywords"), kirbystdlibref.ensure_DASH_test(("aaa" == "aaa"), "match both keywords"), kirbystdlibref.ensure_DASH_test(std.eq_QMRK("aaa", "aaa"), "eq? both keywords"), kirbystdlibref.ensure_DASH_test((1 !== 2), "not="), kirbystdlibref.ensure_DASH_test((3 != 4), "!="), kirbystdlibref.ensure_DASH_test((7 == 7), "=="), kirbystdlibref.ensure_DASH_test((8 === 8), "="), kirbystdlibref.ensure_DASH_test((4 > 3), ">"), kirbystdlibref.ensure_DASH_test((5 >= 5), ">="), kirbystdlibref.ensure_DASH_test((4 < 7), "<"), kirbystdlibref.ensure_DASH_test((9 <= 9), "<="), kirbystdlibref.ensure_DASH_test((3200 === (100 << 2 << 3)), "<<"), kirbystdlibref.ensure_DASH_test((40 === (10 << 2)), "<<"), kirbystdlibref.ensure_DASH_test((2 === (10 >> 2)), ">>"), kirbystdlibref.ensure_DASH_test((6 === (54 >>> 3)), ">>>"), kirbystdlibref.ensure_DASH_test((6 === (2 + 2 + 2)), "+"), kirbystdlibref.ensure_DASH_test((6 === (12 - 3 - 2 - 1)), "-"), kirbystdlibref.ensure_DASH_test((-1 === (-1 * 1)), "-"), kirbystdlibref.ensure_DASH_test((1 === (-1 - -2)), "-"), kirbystdlibref.ensure_DASH_test((24 === (2 * 3 * 4)), "*"), kirbystdlibref.ensure_DASH_test((2 === (12 / 3 / 2)), "/"), kirbystdlibref.ensure_DASH_test((2 === (12 / 3 / 2)), "div"), kirbystdlibref.ensure_DASH_test((2 === (kirbystdlibref.mod(-10, 3))), "mod"), kirbystdlibref.ensure_DASH_test((1 === (kirbystdlibref.mod(10, 3))), "mod"), kirbystdlibref.ensure_DASH_test((true === (false || false || true)), "or"), kirbystdlibref.ensure_DASH_test((false === (true && true && false)), "and"), kirbystdlibref.ensure_DASH_test((true === (true && true && true)), "and"), kirbystdlibref.ensure_DASH_test((8 === (2 ** 3)), "exp"), kirbystdlibref.ensure_DASH_test((1 === (10 % 3)), "rem"), kirbystdlibref.ensure_DASH_test((2 === (10 & 3)), "&"), kirbystdlibref.ensure_DASH_test((11 === (10 | 3)), "|"), kirbystdlibref.ensure_DASH_test((-11 === (~10)), "~"), kirbystdlibref.ensure_DASH_test((9 === (10 ^ 3)), "^"), kirbystdlibref.ensure_DASH_test(s.eq_QMRK([4, 3], (function() {
    let x = 3;
    let y = x++;
    return [x, y];
  }).call(this)), "++"), kirbystdlibref.ensure_DASH_test(s.eq_QMRK([4, 4], (function() {
    let x = 3;
    let y = ++x;
    return [x, y];
  }).call(this)), "++"), kirbystdlibref.ensure_DASH_test(s.eq_QMRK([2, 3], (function() {
    let x = 3;
    let y = x--;
    return [x, y];
  }).call(this)), "--"), kirbystdlibref.ensure_DASH_test(s.eq_QMRK([2, 2], (function() {
    let x = 3;
    let y = --x;
    return [x, y];
  }).call(this)), "--"), kirbystdlibref.ensure_DASH_test((6 === (function() {
      let x = 3;
      return (x += 3);
    }).call(this)), "+="), kirbystdlibref.ensure_DASH_test((3 === (function() {
      let x = 6;
      return (x -= 3);
    }).call(this)), "-="), kirbystdlibref.ensure_DASH_test((18 === (function() {
      let x = 6;
      return (x *= 3);
    }).call(this)), "*="), kirbystdlibref.ensure_DASH_test((2 === (function() {
      let x = 6;
      return (x /= 3);
    }).call(this)), "/="), kirbystdlibref.ensure_DASH_test((2 === (function() {
      let x = 6;
      return (x /= 3);
    }).call(this)), "div="), kirbystdlibref.ensure_DASH_test((1 === (function() {
      let x = 10;
      return (x %= 3);
    }).call(this)), "rem="), kirbystdlibref.ensure_DASH_test((8 === (function() {
      let x = 2;
      return (x **= 3);
    }).call(this)), "exp="), kirbystdlibref.ensure_DASH_test((3 === (function() {
      let x = 19;
      return (x &= 3);
    }).call(this)), "&="), kirbystdlibref.ensure_DASH_test((111 === (function() {
      let x = 109;
      return (x |= 3);
    }).call(this)), "|="), kirbystdlibref.ensure_DASH_test((110 === (function() {
      let x = 109;
      return (x ^= 3);
    }).call(this)), "^="), kirbystdlibref.ensure_DASH_test((872 === (function() {
      let x = 109;
      return (x <<= 3);
    }).call(this)), "<<="), kirbystdlibref.ensure_DASH_test((13 === (function() {
      let x = 109;
      return (x >>= 3);
    }).call(this)), ">>="), kirbystdlibref.ensure_DASH_test((18 === (function() {
      let x = 148;
      return (x >>>= 3);
    }).call(this)), ">>>="), kirbystdlibref.ensure_DASH_test((function() {
    (
    TMPVAR = undefined);
    return (undefined === TMPVAR);
  }).call(this), "undef!"), kirbystdlibref.ensure_DASH_test((function() {
    (
    TMPVAR = null);
    return (null === TMPVAR);
  }).call(this), "nil!"), kirbystdlibref.ensure_DASH_test((2 === ([1, 2, 3].length - 1)), "last-index"), kirbystdlibref.ensure_DASH_test((2 === kirbystdlibref.getProp([1, 2].slice(1), 0)), "rest"), kirbystdlibref.ensure_DASH_test((2 === kirbystdlibref.getProp([1, 2].slice(1), 0)), "cdr"), kirbystdlibref.ensure_DASH_test((2 === [1, 2][1]), "second"), kirbystdlibref.ensure_DASH_test((1 === [1, 2][0]), "first"), kirbystdlibref.ensure_DASH_test((2 === [1, 2][1]), "_2"), kirbystdlibref.ensure_DASH_test((1 === [1, 2][0]), "_1"), kirbystdlibref.ensure_DASH_test((1 === [1, 2][0]), "car"), kirbystdlibref.ensure_DASH_test((2 === [1, 2][(0 + 1)]), "nexth"), kirbystdlibref.ensure_DASH_test((3 === [1, 2, 3][2]), "nth"), kirbystdlibref.ensure_DASH_test((!((0 === kirbystdlibref.mod(2, 2)) && (0 === kirbystdlibref.mod(3, 2)))), "not even?"), kirbystdlibref.ensure_DASH_test(((0 === kirbystdlibref.mod(2, 2))), "even? a"), kirbystdlibref.ensure_DASH_test(((0 === kirbystdlibref.mod(2, 2)) && (0 === kirbystdlibref.mod(4, 2))), "even? a,b"), kirbystdlibref.ensure_DASH_test((!((!((0 === kirbystdlibref.mod(2, 2)))) && (!((0 === kirbystdlibref.mod(3, 2)))))), "not odd?"), kirbystdlibref.ensure_DASH_test(((!((0 === kirbystdlibref.mod(3, 2))))), "odd? a"), kirbystdlibref.ensure_DASH_test(((!((0 === kirbystdlibref.mod(3, 2)))) && (!((0 === kirbystdlibref.mod(9, 2))))), "odd? a,b"), kirbystdlibref.ensure_DASH_test((3 === [1, 2, 3].length), "alen"), kirbystdlibref.ensure_DASH_test(([1, 2].length > 0), "nzlen?"), kirbystdlibref.ensure_DASH_test(([].length === 0), "zlen?"), kirbystdlibref.ensure_DASH_test(("string" === typeof ("hello")), "type"), kirbystdlibref.ensure_DASH_test(("[object Array]" === Object.prototype.toString.call([3])), "whatis?"), kirbystdlibref.ensure_DASH_test(((Object.prototype.toString.call(/^hello/) === "[object RegExp]")), "regex?"), kirbystdlibref.ensure_DASH_test((Array.isArray([]) && Array.isArray([1]) && Array.isArray(["2"])), "array?"), kirbystdlibref.ensure_DASH_test((Array.isArray([]) && Array.isArray([1]) && Array.isArray(["2"])), "arr?"), kirbystdlibref.ensure_DASH_test(((Object.prototype.toString.call(new Date()) === "[object Date]")), "date?"), kirbystdlibref.ensure_DASH_test(((typeof (true) === "boolean") && (typeof (false) === "boolean")), "boolean?"), kirbystdlibref.ensure_DASH_test(((typeof (true) === "boolean") && (typeof (false) === "boolean")), "bool?"), kirbystdlibref.ensure_DASH_test(((typeof (4) === "number") && (typeof (8) === "number")), "number?"), kirbystdlibref.ensure_DASH_test(((typeof (4) === "number") && (typeof (8) === "number")), "num?"), kirbystdlibref.ensure_DASH_test(((typeof ("a") === "string") && (typeof ("b") === "string")), "string?"), kirbystdlibref.ensure_DASH_test(((typeof ("a") === "string") && (typeof ("b") === "string")), "str?"), kirbystdlibref.ensure_DASH_test(((typeof (function() {
      return null;
    }) === "function")), "fn?"), kirbystdlibref.ensure_DASH_test((function() {
    (
    TMPVAR = undefined);
    return ((typeof (TMPVAR) === "undefined"));
  }).call(this), "undef?"), kirbystdlibref.ensure_DASH_test((function() {
    (
    TMPVAR = 3);
    return ((typeof (TMPVAR) !== "undefined"));
  }).call(this), "def?"), kirbystdlibref.ensure_DASH_test(((null === null)), "nil?"), kirbystdlibref.ensure_DASH_test(((0 === 0)), "zero?"), kirbystdlibref.ensure_DASH_test(((1 === 1)), "one?"), kirbystdlibref.ensure_DASH_test(((-33 < 0)), "neg?"), kirbystdlibref.ensure_DASH_test(((45 > 0)), "pos?"), kirbystdlibref.ensure_DASH_test((1 === kirbystdlibref.getProp(Array.from(new Map([["a", 1]]).values()), 0)), "values"), kirbystdlibref.ensure_DASH_test(("a" === kirbystdlibref.getProp(Array.from(new Map([["a", 1]]).keys()), 0)), "keys"), kirbystdlibref.ensure_DASH_test((function() {
    let GS__2 = [3, 4];
    let a = kirbystdlibref.getIndex(GS__2, 0);
    let b = kirbystdlibref.getIndex(GS__2, 1);
    return ((3 === a) && (4 === b));
  }).call(this), "destruct vec"), kirbystdlibref.ensure_DASH_test((function() {
    let GS__3 = [3, 4, [5, 6]];
    let a = kirbystdlibref.getIndex(GS__3, 0);
    let b = kirbystdlibref.getIndex(GS__3, 1);
    let GS__4 = GS__3[2];
    let c = kirbystdlibref.getIndex(GS__4, 0);
    let d = kirbystdlibref.getIndex(GS__4, 1);
    return ((5 === c) && (6 === d));
  }).call(this), "destruct vec,2"), kirbystdlibref.ensure_DASH_test((function() {
    let GS__5 = {
      a: 3,
      b: 4
    };
    let a = kirbystdlibref.getProp(GS__5, "a");
    let b = kirbystdlibref.getProp(GS__5, "b");
    return ((3 === a) && (4 === b));
  }).call(this), "destruct obj"), kirbystdlibref.ensure_DASH_test((function() {
    let GS__6 = new Map([["a", 3], ["b", 4]]);
    let a = kirbystdlibref.getProp(GS__6, "a");
    let b = kirbystdlibref.getProp(GS__6, "b");
    return ((3 === a) && (4 === b));
  }).call(this), "destruct map"), kirbystdlibref.ensure_DASH_test(s.eq_QMRK([1, 2, 3, 4, 5], (function(a, GS__7, GS__8) {
    let b = kirbystdlibref.getIndex(GS__7, 0);
    let c = kirbystdlibref.getIndex(GS__7, 1);
    let d = kirbystdlibref.getProp(GS__8, "d");
    let e = kirbystdlibref.getProp(GS__8, "e");
    return [a, b, c, d, e];
  })(1, [2, 3], {
    d: 4,
    e: 5
  })), "destruct fn args"), kirbystdlibref.ensure_DASH_test(((1 === 1) ?
    true :
    (function() {
      throw new Error("error!");
    }).call(this)), "assert"), kirbystdlibref.ensure_DASH_test((((1 === 0) === false)), "false?"), kirbystdlibref.ensure_DASH_test((((0 === 0) === true)), "true?"), kirbystdlibref.ensure_DASH_test(("hello" === ((!false) ?
      (function() {
        return "hello";
      }).call(this) :
      null)), "when-not"), kirbystdlibref.ensure_DASH_test(("hello" === ((!false) ?
      (function() {
        return "hello";
      }).call(this) :
      null)), "unless"), kirbystdlibref.ensure_DASH_test(("hello" === ((!(1 === 0)) ?
      "hello" :
      null)), "if-not"), kirbystdlibref.ensure_DASH_test(("hello" === ((!(1 === 1)) ?
      "boom" :
      "hello")), "if-not->else"), kirbystdlibref.ensure_DASH_test((10 === (function() {
      (
      TMPVAR = 0);
      for (let ____break = false; ((!____break) && (TMPVAR !== 10));) {
        ++TMPVAR;
      }
      return TMPVAR;
    }).call(this)), "while"), kirbystdlibref.ensure_DASH_test((101 === (true ?
      (function() {
        (
        TMPVAR = 100);
        return ++TMPVAR;
      }).call(this) :
      null)), "when"), kirbystdlibref.ensure_DASH_test(("b" === ((1 === 2) ?
      "a" :
      ((2 === 2) ?
        "b" :
        null))), "cond"), kirbystdlibref.ensure_DASH_test(("b" === ((1 === 2) ?
      "a" :
      (true ?
        "b" :
        null))), "cond->else"), kirbystdlibref.ensure_DASH_test((7 === (function() {
      let GS__9 = (1 + 2);
      return ((0 === GS__9) ?
        9 :
        (function() {
          let GS__10 = (3 === GS__9);
          let ____x = GS__10;
          return (GS__10 ?
            (function() {
              let ____args = Array.prototype.slice.call(arguments);
              return (____args[0] ?
                7 :
                5);
            })(____x) :
            (("a" === GS__9) ?
              3 :
              null));
        }).call(this));
    }).call(this)), "condp"), kirbystdlibref.ensure_DASH_test(("boom" === (function() {
      let GS__11 = (1 + 2);
      return ((0 === GS__11) ?
        9 :
        (function() {
          let GS__12 = (2 === GS__11);
          let ____x = GS__12;
          return (GS__12 ?
            (function() {
              let ____args = Array.prototype.slice.call(arguments);
              return (____args[0] ?
                7 :
                5);
            })(____x) :
            (("a" === GS__11) ?
              3 :
              (true ?
                "boom" :
                null)));
        }).call(this));
    }).call(this)), "condp->default"), kirbystdlibref.ensure_DASH_test((36 === (((1 + 2) * 3) * 4)), "->"), kirbystdlibref.ensure_DASH_test((8 === (4 + (12 / (1 + 2)))), "->>"), kirbystdlibref.ensure_DASH_test((3 === (function() {
      let a = 1;
      let b = 2;
      return (a + b);
    }).call(this)), "let"), kirbystdlibref.ensure_DASH_test((1 === kirbystdlibref.count([1])), "single?"), kirbystdlibref.ensure_DASH_test((2 === kirbystdlibref.count([1, 2])), "dual?"), kirbystdlibref.ensure_DASH_test((3 === kirbystdlibref.count([1, 2, 3])), "triple?"), kirbystdlibref.ensure_DASH_test((911 === (function() {
      let _x_ = null;
      let recur = null;
      let _f_ = function(a, b) {
        return ((a === b) ?
          911 :
          recur((a + 1), (b - 1)));
      };
      let _r_ = _f_;
      (recur = function() {
        (
        _x_ = arguments);
        if (_r_) {
          for (_r_ = undefined; _r_ === undefined;) {
            _r_ = _f_.apply(this, _x_);
          }
          return _r_;
        }
        return undefined;
      });
      return recur(0, 10);
    })(this)), "loop"), kirbystdlibref.ensure_DASH_test((4 === [1, 2].concat([3, 4]).length), "concat"), kirbystdlibref.ensure_DASH_test(("a,b" === ["a", "b"].join(",")), "join"), kirbystdlibref.ensure_DASH_test((3 === (function() {
      let a = (1 + 2);
      (a / 3);
      return a;
    }).call(this)), "do-with"), kirbystdlibref.ensure_DASH_test((false === (function() {
      (1 + 2);
      (1 === 1);
      return false;
    }).call(this)), "do->false"), kirbystdlibref.ensure_DASH_test((true === (function() {
      (1 + 2);
      (1 === 2);
      return true;
    }).call(this)), "do->true"), kirbystdlibref.ensure_DASH_test((null === (function() {
      (1 + 2);
      911;
      return null;
    }).call(this)), "do->nil"), kirbystdlibref.ensure_DASH_test((undefined === (function() {
      (1 + 2);
      911;
      return undefined;
    }).call(this)), "do->undef"), kirbystdlibref.ensure_DASH_test((4 === inc(3)), "inc"), kirbystdlibref.ensure_DASH_test((2 === dec(3)), "dec"), kirbystdlibref.ensure_DASH_test((45 === (function() {
      let outer = 0;
      for (let ____coll = null, x = 0, ____end = 10, ____break = false; ((!____break) && (x < ____end)); x = (x + 1)) {
        (
        outer += x);
      }
      return outer;
    }).call(this)), "dotimes"), kirbystdlibref.ensure_DASH_test((12 === kirbystdlibref.count((function() {
      let ret = [];
      for (let ____coll = null, i = 0, ____end = 12, ____break = false; ((!____break) && (i < ____end)); i = (i + 1)) {
        ret.push(i);
      }
      return ret;
    }).call(this))), "range,a"), kirbystdlibref.ensure_DASH_test((2 === kirbystdlibref.count((function() {
      let ret = [];
      for (let ____coll = null, i = 10, ____end = 12, ____break = false; ((!____break) && (i < ____end)); i = (i + 1)) {
        ret.push(i);
      }
      return ret;
    }).call(this))), "range,a,b"), kirbystdlibref.ensure_DASH_test((4 === kirbystdlibref.count((function() {
      let ret = [];
      for (let ____coll = null, i = 5, ____end = 12, ____break = false; ((!____break) && (i < ____end)); i = (i + 2)) {
        ret.push(i);
      }
      return ret;
    }).call(this))), "range,a,b,c"), kirbystdlibref.ensure_DASH_test((function() {
    (
    TMPVAR = (function() {
      let f = function(a, b) {
        return [b, a];
      };
      return f.apply(this, [1, 2]);
    }).call(this));
    return ((2 === TMPVAR[0]) && (1 === std.last(TMPVAR)));
  }).call(this), "apply"), kirbystdlibref.ensure_DASH_test((function() {
    (
    TMPVAR = (function() {
      let f = function(a, b) {
        return [b, a];
      };
      return f.apply(this, [1, 2]);
    }).call(this));
    return ((2 === TMPVAR[0]) && (1 === std.last(TMPVAR)));
  }).call(this), "apply+"), kirbystdlibref.ensure_DASH_test(("z" === "hellz".charAt(4)), "ch@"), kirbystdlibref.ensure_DASH_test((false === (function() {
      (
      TMPVAR = false);
      return TMPVAR;
    }).call(this)), "false!"), kirbystdlibref.ensure_DASH_test((true === (function() {
      (
      TMPVAR = true);
      return TMPVAR;
    }).call(this)), "true!"), kirbystdlibref.ensure_DASH_test((function() {
    let x = (function() {
      let ret = [];
      for (let ____coll = null, ____index = 0, ____end = 5, ____break = false; ((!____break) && (____index < ____end)); ____index = (____index + 1)) {
        ret.push("a");
      }
      return ret;
    }).call(this);
    return ((5 === kirbystdlibref.count(x)) && ("a" === std.last(x)));
  }).call(this), "repeat"), kirbystdlibref.ensure_DASH_test((28 === (function() {
      (
      TMPVAR = 0);
      for (let GS__15 = 0, GS__13 = true, GS__14 = (function() {
            let ret = [];
            for (let ____coll = null, i = 0, ____end = 10, ____break = false; ((!____break) && (i < ____end)); i = (i + 1)) {
              ret.push(i);
            }
            return ret;
          }).call(this), ____sz = kirbystdlibref.count(GS__14), ____break = false; (!____break && GS__13 && (GS__15 < ____sz)); ++GS__15) {
        let x = GS__14[GS__15];
        let y = inc(x);
        let z = y;
        if (!((x < 7))) {
          GS__13 = false;
          ____break = true;
        } else {
          (
          TMPVAR += z);
        }
      }
      return TMPVAR;
    }).call(this)), "doseq"), kirbystdlibref.ensure_DASH_test(s.eq_QMRK([[1, 3, 7], [1, 1, 7], [2, 3, 7], [2, 1, 7]], (function() {
    (
    TMPVAR = []);
    for (let GS__22 = 0, GS__16 = true, GS__21 = [1, 2], ____sz = kirbystdlibref.count(GS__21); (GS__16 && (GS__22 < ____sz)); ++GS__22) {
      let x = GS__21[GS__22];
      for (let GS__20 = 0, GS__19 = [3, 1], ____sz = kirbystdlibref.count(GS__19); (GS__16 && (GS__20 < ____sz)); ++GS__20) {
        let y = GS__19[GS__20];
        for (let GS__18 = 0, GS__17 = [7], ____sz = kirbystdlibref.count(GS__17), ____break = false; (!____break && GS__16 && (GS__18 < ____sz)); ++GS__18) {
          let z = GS__17[GS__18];
          conj_BANG(TMPVAR, [x, y, z]);
        }
      }
    }
    return TMPVAR;
  }).call(this)), "doseq, 3 levels"), kirbystdlibref.ensure_DASH_test(s.eq_QMRK([[1, 3, 7], [1, 1, 7], [2, 3, 7], [2, 1, 7]], (function() {
    let GS__23 = [];
    for (let GS__30 = 0, GS__24 = true, GS__29 = [1, 2], ____sz = kirbystdlibref.count(GS__29); (GS__24 && (GS__30 < ____sz)); ++GS__30) {
      let x = GS__29[GS__30];
      for (let GS__28 = 0, GS__27 = [3, 1], ____sz = kirbystdlibref.count(GS__27); (GS__24 && (GS__28 < ____sz)); ++GS__28) {
        let y = GS__27[GS__28];
        for (let GS__26 = 0, GS__25 = [7], ____sz = kirbystdlibref.count(GS__25), ____break = false; (!____break && GS__24 && (GS__26 < ____sz)); ++GS__26) {
          let z = GS__25[GS__26];
          GS__23.push((function() {
            return [x, y, z];
          }).call(this));
        }
      }
    }
    return GS__23;
  }).call(this)), "for"), kirbystdlibref.ensure_DASH_test(("hello!" === (function() {
      let GS__31 = "hello".slice(0);
      let s = GS__31;
      return ((kirbystdlibref.count(GS__31) > 0) ?
        str_STAR(s, "!") :
        null);
    }).call(this)), "if-some+"), kirbystdlibref.ensure_DASH_test(("ab" === (function() {
      let GS__32 = "hello".slice(5);
      let s = GS__32;
      return ((kirbystdlibref.count(GS__32) > 0) ?
        str_STAR(s, "!") :
        str_STAR("ab"));
    }).call(this)), "if-some+->else"), kirbystdlibref.ensure_DASH_test((10 === (function() {
      let GS__33 = (1 + 2);
      let a = GS__33;
      return ((((typeof (GS__33) === "undefined")) || ((GS__33 === null))) ?
        null :
        (a + 7));
    }).call(this)), "if-some"), kirbystdlibref.ensure_DASH_test((17 === (function() {
      let GS__34 = null;
      let a = GS__34;
      return ((((typeof (GS__34) === "undefined")) || ((GS__34 === null))) ?
        (7 + 10) :
        (a + a));
    }).call(this)), "if-some->else"), kirbystdlibref.ensure_DASH_test((7 === (function() {
      let GS__35 = (1 === 1);
      let a = GS__35;
      return (GS__35 ?
        (3 + 4) :
        null);
    }).call(this)), "if-let"), kirbystdlibref.ensure_DASH_test((15 === (function() {
      let GS__36 = (1 === 2);
      let a = GS__36;
      return (GS__36 ?
        (3 + 4) :
        (7 + 8));
    }).call(this)), "if-let->else"), kirbystdlibref.ensure_DASH_test(("hello" === (function() {
      let GS__37 = "hello".slice(2);
      let s = GS__37;
      return ((kirbystdlibref.count(GS__37) > 0) ?
        (function() {
          kirbystdlibref.count(s);
          return str_STAR("he", s);
        }).call(this) :
        null);
    }).call(this)), "when-some+"), kirbystdlibref.ensure_DASH_test(("hehello" === (function() {
      let GS__38 = "hello";
      let s = GS__38;
      return ((!(((typeof (GS__38) === "undefined")) || ((GS__38 === null)))) ?
        (function() {
          kirbystdlibref.count(s);
          return str_STAR("he", s);
        }).call(this) :
        null);
    }).call(this)), "when-some"), kirbystdlibref.ensure_DASH_test((7 === (function() {
      let GS__39 = (1 === 1);
      let a = GS__39;
      return (GS__39 ?
        (function() {
          (2 + 2);
          return (3 + 4);
        }).call(this) :
        null);
    }).call(this)), "when-let"), kirbystdlibref.ensure_DASH_test(s.eq_QMRK(new Set([1, 2]), (function() {
    let GS__40 = new Set([1]);
    std.conj_BANG(GS__40, 2);
    return GS__40;
  }).call(this)), "conj!,set"), kirbystdlibref.ensure_DASH_test((2 === kirbystdlibref.count((function() {
      let GS__41 = [];
      std.conj_BANG(GS__41, 1);
      std.conj_BANG(GS__41, 2);
      return GS__41;
    }).call(this))), "doto,conj!"), kirbystdlibref.ensure_DASH_test(s.eq_QMRK(new Set([1]), (function() {
    let GS__42 = new Set([1, 2, 3]);
    std.disj_BANG(GS__42, 2, 3);
    return GS__42;
  }).call(this)), "disj!,set"), kirbystdlibref.ensure_DASH_test((2 === ([1, 2] || []).map(function() {
      let ____args = Array.prototype.slice.call(arguments);
      return inc(____args[0]);
    })[0]), "map"), kirbystdlibref.ensure_DASH_test((2 === kirbystdlibref.count(([1, 2, 8] || []).filter(function() {
      let ____args = Array.prototype.slice.call(arguments);
      return ((0 === kirbystdlibref.mod(____args[0], 2)));
    }))), "filter"), kirbystdlibref.ensure_DASH_test((true === ([1, 2, 8] || []).some(function() {
      let ____args = Array.prototype.slice.call(arguments);
      return ((!((0 === kirbystdlibref.mod(____args[0], 2)))));
    })), "some"), kirbystdlibref.ensure_DASH_test((function() {
    let x = Array.prototype.slice.call([1, 2, 3, 4, 5], 0, 3);
    return ((3 === kirbystdlibref.count(x)) && (3 === std.last(x)));
  }).call(this), "take"), kirbystdlibref.ensure_DASH_test((21 === (function() {
      let f = function() {
        let xs = Array.prototype.slice.call(arguments, 0);
        return 21;
      };
      return f(1, 4, 5);
    }).call(this)), "constantly"), kirbystdlibref.ensure_DASH_test((function() {
    let x = Array.prototype.slice.call([1, 2, 3, 4, 5], 3);
    return ((2 === kirbystdlibref.count(x)) && (5 === std.last(x)));
  }).call(this), "drop"), kirbystdlibref.ensure_DASH_test((21 === ([5, 7, 9] || []).reduce(function(acc, x) {
      return (acc + x);
    })), "reduce2"), kirbystdlibref.ensure_DASH_test((31 === ([5, 7, 9] || []).reduce(function(acc, x) {
      return (acc + x);
    }, 10)), "reduce"), kirbystdlibref.ensure_DASH_test(("ab" === str_STAR("a", "b")), "str"), kirbystdlibref.ensure_DASH_test((20 === (function() {
      let f = function() {
        let ____args = Array.prototype.slice.call(arguments);
        return (____args[0] + 7);
      };
      return f(13);
    }).call(this)), "lambda"), kirbystdlibref.ensure_DASH_test((6 === (function() {
      (
      TMPVAR = 0);
      [1, 2, 3].forEach(function() {
        let ____args = Array.prototype.slice.call(arguments);
        return (TMPVAR += ____args[0]);
      });
      return TMPVAR;
    }).call(this)), "each"), kirbystdlibref.ensure_DASH_test((6 === (function() {
      (
      TMPVAR = 0);
      if (true) {
        let GS__43 = new Map([["a", 1], ["b", 2], ["c", 3]]);
        let GS__44 = function() {
          let ____args = Array.prototype.slice.call(arguments);
          return (TMPVAR += ____args[0]);
        };
        if (kirbystdlibref.object_QMRK(GS__43)) {
          if (true) {
            let GS__45 = GS__43;
            Object.keys(GS__45).forEach(function(p) {
              return GS__44(kirbystdlibref.getProp(GS__45, p), p);
            });
          }
        } else {
          GS__43.forEach(GS__44)
        }
      }
      return TMPVAR;
    }).call(this)), "each-key"), kirbystdlibref.ensure_DASH_test(s.not_DASH_empty([2]), "not-empty"), kirbystdlibref.ensure_DASH_test((2 === s.opt_QMRK__QMRK(undefined, 2)), "opt??"), kirbystdlibref.ensure_DASH_test((function() {
    let a = [1];
    let b = s.cons(2, a);
    return ((1 === kirbystdlibref.count(a)) && (2 === kirbystdlibref.count(b)) && (1 === s.last(b)));
  }).call(this), "cons"), kirbystdlibref.ensure_DASH_test((function() {
    let a = [1];
    let b = s.conj(a, 2, 3);
    return ((1 === kirbystdlibref.count(a)) && (3 === kirbystdlibref.count(b)) && (3 === s.last(b)));
  }).call(this), "conj -> vec"), kirbystdlibref.ensure_DASH_test((function() {
    let a = s.list(1);
    let b = s.conj(a, 2, 3);
    return ((1 === kirbystdlibref.count(a)) && (3 === kirbystdlibref.count(b)) && (1 === s.last(b)));
  }).call(this), "conj -> list"), kirbystdlibref.ensure_DASH_test((function() {
    let c = [9, 8, 7];
    let GS__46 = s.pop_BANG(c);
    let a = kirbystdlibref.getIndex(GS__46, 0);
    let b = kirbystdlibref.getIndex(GS__46, 1);
    return ((7 === a) && (2 === kirbystdlibref.count(c)));
  }).call(this), "pop!"), kirbystdlibref.ensure_DASH_test((function() {
    let c = [9, 8, 7];
    let GS__47 = s.pop(c);
    let a = kirbystdlibref.getIndex(GS__47, 0);
    let b = kirbystdlibref.getIndex(GS__47, 1);
    return ((7 === a) && (3 === kirbystdlibref.count(c)));
  }).call(this), "pop"), kirbystdlibref.ensure_DASH_test(("xaaaz" === s.wrap_DASH_str("aaa", "x", "z")), "wrap-str"), kirbystdlibref.ensure_DASH_test(((typeof (s.getProp(new Map([["a", 1], ["z", 5]]), "x")) === "undefined")), "getProp,false"), kirbystdlibref.ensure_DASH_test((5 === s.getProp(new Map([["a", 1], ["z", 5]]), "z")), "getProp,true"), kirbystdlibref.ensure_DASH_test(((typeof (s.getProp({
      "a": 1,
      "z": 5
    }, "toString", false)) === "function")), "getProp,false"), kirbystdlibref.ensure_DASH_test(("(1 2 3)" === s.prn([1, 2, 3])), "prn"), kirbystdlibref.ensure_DASH_test((function() {
    let p = 2;
    let v = 3;
    return (s.primitive_QMRK(p) && (v === 3));
  }).call(this), "primitive?"), kirbystdlibref.ensure_DASH_test((function() {
    let k = s.keyword(":hello");
    let v = k.value;
    return (s.keyword_QMRK(k) && (v === ":hello"));
  }).call(this), "keyword,keyword?"), kirbystdlibref.ensure_DASH_test((function() {
    let k = s.keyword("::hello");
    let v = str_STAR(k);
    return (s.keyword_QMRK(k) && v.endsWith("/hello"));
  }).call(this), "scoped,keyword,keyword?"), kirbystdlibref.ensure_DASH_test((function() {
    let s = std.symbol("hello");
    let v = s.value;
    return (std.symbol_QMRK(s) && (v === "hello"));
  }).call(this), "symbol,symbol?"), kirbystdlibref.ensure_DASH_test((function() {
    let a = s.atom("hello");
    let w = a.value;
    let v = a.value;
    return (s.atom_QMRK(a) && (w === v) && (v === "hello"));
  }).call(this), "atom,atom?,deref"), kirbystdlibref.ensure_DASH_test(s.symbol_QMRK(s.keyword_DASH__GT_symbol(s.keyword(":pooh"))), "keyword->symbol"), kirbystdlibref.ensure_DASH_test((8 === (function() {
      let a = s.atom(3);
      s.reset_BANG(a, 8);
      return a.value;
    }).call(this)), "reset!"), kirbystdlibref.ensure_DASH_test((8 === (function() {
      let a = s.atom(3);
      s.swap_BANG(a, function(old, more) {
        return (old + more);
      }, 5);
      return a.value;
    }).call(this)), "swap!"), kirbystdlibref.ensure_DASH_test(("atom" === s.typeid(s.atom(2))), "typeid"), kirbystdlibref.ensure_DASH_test(((!s.primitive_QMRK([1])) && (!s.primitive_QMRK(new Map([["a", 1]])))), "complex?"), kirbystdlibref.ensure_DASH_test((s.primitive_QMRK(1) && s.primitive_QMRK(null)), "simple?"), kirbystdlibref.ensure_DASH_test((((s.primitive_QMRK([]) === false)) && ((s.primitive_QMRK(new Map([])) === false))), "not simple?"), kirbystdlibref.ensure_DASH_test((s.value_QMRK(3) && s.value_QMRK(function() {
      return null;
    })), "value?"), kirbystdlibref.ensure_DASH_test(s.sequential_QMRK([1, 2, 3]), "sequential?"), kirbystdlibref.ensure_DASH_test(s.eq_QMRK([1, 2], [1, 2]), "eq? -> array"), kirbystdlibref.ensure_DASH_test(s.eq_QMRK({
    "a": 1,
    "b": 2
  }, {
    "b": 2,
    "a": 1
  }), "eq? -> object"), kirbystdlibref.ensure_DASH_test((!s.object_QMRK(1)), "not object?"), kirbystdlibref.ensure_DASH_test(s.object_QMRK({
    "a": 1
  }), "object?"), kirbystdlibref.ensure_DASH_test((3 === s.last([1, 2, 3])), "last"), kirbystdlibref.ensure_DASH_test(s.list_QMRK(s.into(s.list(), [1, 2, 3])), "into"), kirbystdlibref.ensure_DASH_test((function() {
    let x = s.list(1, 2, 3);
    let y = s.into(s.list(), x);
    s.conj_BANG(x, 4);
    return ((4 === kirbystdlibref.count(x)) && (3 === kirbystdlibref.count(y)) && s.list_QMRK(y));
  }).call(this), "into"), kirbystdlibref.ensure_DASH_test(s.pairs_QMRK([1, 2, 3]), null), kirbystdlibref.ensure_DASH_test(s.list_QMRK(s.list(1, 2, 3)), "list,list?"), kirbystdlibref.ensure_DASH_test(s.vector_QMRK(s.vector(1, 2, 3)), "vector,vector?"), kirbystdlibref.ensure_DASH_test(s.map_QMRK(s.hash_DASH_map("a", 1, "b", 2, "c", 3)), "hash-map,map?"), kirbystdlibref.ensure_DASH_test(s.object_QMRK(s.object("a", 1, "b", 2, "c", 3)), "object,object?"), kirbystdlibref.ensure_DASH_test((3 === kirbystdlibref.count(s.seq("abc"))), "seq"), kirbystdlibref.ensure_DASH_test(s.contains_QMRK([1, 2, 3], 2), "contains?"), kirbystdlibref.ensure_DASH_test((s.nichts_QMRK(null) && s.nichts_QMRK(undefined)), "nichts?"), kirbystdlibref.ensure_DASH_test(s.some_QMRK(false), "some?"), kirbystdlibref.ensure_DASH_test((3 === s.count([1, 2, 3])), "count"), kirbystdlibref.ensure_DASH_test((4 === kirbystdlibref.count(s.concat_STAR([1, 2], 3, 4))), "concat*"), kirbystdlibref.ensure_DASH_test((3 === s.last(s.evens([1, 2, 3, 4]))), "evens"), kirbystdlibref.ensure_DASH_test((4 === s.last(s.odds([1, 2, 3, 4]))), "odds"), kirbystdlibref.ensure_DASH_test(((1 === s.mod(10, 3)) && (2 === s.mod(-10, 3))), "modulo"), kirbystdlibref.ensure_DASH_test(s.eq_QMRK([1, 5, 2, 6], s.interleave([1, 2, 3], [5, 6])), "interleave"), kirbystdlibref.ensure_DASH_test(s.eq_QMRK([5, 1, 6, 2], s.interleave([5, 6], [1, 2, 3])), "interleave"), kirbystdlibref.ensure_DASH_test(s.eq_QMRK(new Map([["a", 1], ["b", 2]]), s.zipmap(["a", "b"], [1, 2, 3])), "zipmap"), kirbystdlibref.ensure_DASH_test(s.eq_QMRK(new Map([["a", 5], ["b", 6]]), s.zipmap(["a", "b", "c"], [5, 6])), "zipmap"), kirbystdlibref.ensure_DASH_test((function() {
    let g = s.gensym("X");
    return (s.symbol_QMRK(g) && g.value.startsWith("X"));
  }).call(this), "gensym"), kirbystdlibref.ensure_DASH_test((1 === kirbystdlibref.getProp(s.carve([1, 2], 0, -1), 0)), "carve,a,b"), kirbystdlibref.ensure_DASH_test((2 === kirbystdlibref.getProp(s.carve([1, 2], 1), 0)), "carve,a"), kirbystdlibref.ensure_DASH_test(s.eq_QMRK(new Map([["a", 1], ["b", 2]]), s.assoc_BANG(new Map([]), "a", 1, "b", 2)), "assoc!"), kirbystdlibref.ensure_DASH_test(s.eq_QMRK(new Map([["c", 3]]), s.dissoc_BANG(new Map([["a", 1], ["b", 2], ["c", 3]]), "a", "b")), "dissoc!"), kirbystdlibref.ensure_DASH_test((s.falsy_QMRK(false) && s.falsy_QMRK(null)), "falsy?"), kirbystdlibref.ensure_DASH_test(((!s.truthy_QMRK(null)) && (!s.truthy_QMRK(false))), "truthy?"), kirbystdlibref.ensure_DASH_test((function() {
    let x = s.quote_DASH_str("abc");
    return (x.startsWith("\"") && x.endsWith("\""));
  }).call(this), "quote-str"), kirbystdlibref.ensure_DASH_test(("abc" === s.unquote_DASH_str("\"abc\"")), "unquote-str"), kirbystdlibref.ensure_DASH_test(("&lt;&gt;&amp;&quot;&apos;" === s.esc_DASH_xml("<>&\"'")), "escXml"), kirbystdlibref.ensure_DASH_test((function() {
    let GS__48 = s.split_DASH_seq([1, 2, 3, 4, 5], 3);
    let x = kirbystdlibref.getIndex(GS__48, 0);
    let y = kirbystdlibref.getIndex(GS__48, 1);
    return (s.eq_QMRK([1, 2, 3], x) && s.eq_QMRK([4, 5], y));
  }).call(this), "split-seq"), kirbystdlibref.ensure_DASH_test(s.eq_QMRK(new Map([["a", 1], ["c", 3]]), s.select_DASH_keys(new Map([["a", 1], ["b", 2], ["c", 3]]), ["a", "c"])), "select-keys"), kirbystdlibref.ensure_DASH_test(s.eq_QMRK(new Map([["a", new Map([["b", new Map([["c", 9]])]])]]), s.update_DASH_in_BANG(new Map([["a", new Map([["b", new Map([["c", 4]])]])]]), ["a", "b", "c"], function(old, n) {
    return (old + n);
  }, 5)), "update-in"), kirbystdlibref.ensure_DASH_test((4 === s.get_DASH_in(new Map([["a", [2, 4, new Map([["c", 4]])]]]), ["a", 2, "c"])), "get-in"), kirbystdlibref.ensure_DASH_test(s.eq_QMRK([7, 7, 7], s.fill_DASH_array(3, 7)), "fill-array,value"), kirbystdlibref.ensure_DASH_test(s.eq_QMRK([0, 1, 2], s.fill_DASH_array(3, function() {
    let ____args = Array.prototype.slice.call(arguments);
    return ____args[0];
  })), "fill-array,function"), kirbystdlibref.ensure_DASH_test(s.eq_QMRK([3, 4], s.copy_DASH_array([3, 4, 5, 7], [0, 0])), "copy-array,value"), kirbystdlibref.ensure_DASH_test(s.eq_QMRK([2, 5, 7, 6], s.copy_DASH_array([2, 5, 7], [3, 4, 9, 6])), "copy-array,value"), kirbystdlibref.ensure_DASH_test(s.eq_QMRK([2, 5, 7], s.aclone([2, 5, 7])), "aclone"), kirbystdlibref.ensure_DASH_test(s.eq_QMRK({
    "a": 1,
    "b": 7,
    "c": "gg",
    "d": 7
  }, (function() {
    let a = {
      "a": 1,
      "b": 2,
      "c": "ss"
    };
    let b = {
      "b": 7,
      "c": "gg",
      "d": 7
    };
    return s.mixin(a, b);
  }).call(this)), "mixin"), kirbystdlibref.ensure_DASH_test(s.eq_QMRK(new Map([["a", 1], ["b", 2]]), s.merge(new Map([["a", 1]]), new Map([["b", 2]]))), "merge"), kirbystdlibref.ensure_DASH_test(s.eq_QMRK(new Set([1, 2, 4]), s.difference(new Set([1, 2, 3, 4, 5]), new Set([3, 5]))), "difference"), kirbystdlibref.ensure_DASH_test((50 === s.percent(20, 40)), "percent"), kirbystdlibref.ensure_DASH_test(("3.333" === s.to_DASH_fixed((10 / 3), 3)), "to-fixed"), kirbystdlibref.ensure_DASH_test(s.eq_QMRK(["aa", "bb", "cc", "dd", "ee", "ff"], s.mapcat(function() {
    let ____args = Array.prototype.slice.call(arguments);
    return ____args[0].split(/\d/);
  }, ["aa1bb", "cc2dd", "ee3ff"])), "mapcat"), kirbystdlibref.ensure_DASH_test(s.eq_QMRK([4, 5], (function(...____args) {
    return [function(a) {
      return (1 + a);
    }(...____args), function(b) {
      return (2 + b);
    }(...____args)];
  })(3)), "juxt"), kirbystdlibref.ensure_DASH_test((14 === (function(...____args) {
      return function(a) {
        return (1 + a);
      }(function(b, c) {
        return (b + c);
      }(...____args));
    })(3, 10)), "comp"), kirbystdlibref.ensure_DASH_test(s.eq_QMRK([1, 2, "3"], [1, 2, "3"]), "quote"), kirbystdlibref.ensure_DASH_test((3 === ([2, 4, 8, 3, 6, 7] || []).find(function() {
      let ____args = Array.prototype.slice.call(arguments);
      return ((!((0 === kirbystdlibref.mod(____args[0], 2)))));
    })), "find"), kirbystdlibref.ensure_DASH_test(s.eq_QMRK([2, 3, 4, 9], s.sort_BANG([3, 9, 4, 2])), "simple sort!"), kirbystdlibref.ensure_DASH_test(s.eq_QMRK([{
    "a": 2
  }, {
    "a": 3
  }, {
    "a": 4
  }, {
    "a": 9
  }], s.sort_BANG(function(x, y) {
    return ((x.a < y.a) ?
      -1 :
      ((x.a > y.a) ?
        1 :
        0));
  }, [{
    "a": 3
  }, {
    "a": 9
  }, {
    "a": 4
  }, {
    "a": 2
  }])), "object sort!"), kirbystdlibref.ensure_DASH_test(s.eq_QMRK([[1, 2, 3], [4, 5, 6], [7, 8]], s.partition(3, [1, 2, 3, 4, 5, 6, 7, 8])), "partition"), kirbystdlibref.ensure_DASH_test(s.eq_QMRK(["123", "456", "78"], s.split_DASH_str(3, "12345678")), "split-str"), kirbystdlibref.ensure_DASH_test((function() {
    let obj = new Set([1, 2, 3]);
    return (set_QMRK(obj) && (3 === kirbystdlibref.count(obj)));
  }).call(this), "object,Set"), kirbystdlibref.ensure_DASH_test((function() {
    let obj = new Map([["a", 1], ["b", 2]]);
    return (map_QMRK(obj) && (2 === kirbystdlibref.count(obj)) && (1 === obj.get("a")) && (2 === obj.get("b")));
  }).call(this), "object,Map"), kirbystdlibref.ensure_DASH_test((698 === s.max_DASH_by(s.identity, [78, 7, 698, 4, 5, 2, -1])), "max-by"), kirbystdlibref.ensure_DASH_test((-1 === s.min_DASH_by(s.identity, [78, 7, 6, 4, 5, 2, -1])), "min-by"), kirbystdlibref.ensure_DASH_test(s.eq_QMRK([-2, -1], take_DASH_while(function() {
    let ____args = Array.prototype.slice.call(arguments);
    return (____args[0] < 0);
  }, [-2, -1, 0, 1, 2, 3])), "take-while"), kirbystdlibref.ensure_DASH_test(s.eq_QMRK([], take_DASH_while(function() {
    let ____args = Array.prototype.slice.call(arguments);
    return (____args[0] < 0);
  }, [0, 1, 2, 3])), "take-while"), kirbystdlibref.ensure_DASH_test(s.eq_QMRK([3, 4, 5, 6], drop_DASH_while(function() {
    let ____args = Array.prototype.slice.call(arguments);
    return (3 > ____args[0]);
  }, [1, 2, 3, 4, 5, 6])), "drop-while"), kirbystdlibref.ensure_DASH_test(s.eq_QMRK([4, 5, 6], drop_DASH_while(function() {
    let ____args = Array.prototype.slice.call(arguments);
    return (3 >= ____args[0]);
  }, [1, 2, 3, 4, 5, 6])), "drop-while"), kirbystdlibref.ensure_DASH_test(s.eq_QMRK([[1, 2, 3], [4, 5]], split_DASH_with(function() {
    let ____args = Array.prototype.slice.call(arguments);
    return (3 >= ____args[0]);
  }, [1, 2, 3, 4, 5])), "split-with"), kirbystdlibref.ensure_DASH_test(s.eq_QMRK([[1, 2], [3, 2, 1]], split_DASH_with(function() {
    let ____args = Array.prototype.slice.call(arguments);
    return (3 > ____args[0]);
  }, [1, 2, 3, 2, 1])), "split-with"), kirbystdlibref.ensure_DASH_test(s.eq_QMRK([[1, 2, 3, 2, 1], []], split_DASH_with(function() {
    let ____args = Array.prototype.slice.call(arguments);
    return (10 > ____args[0]);
  }, [1, 2, 3, 2, 1])), "split-with"), kirbystdlibref.ensure_DASH_test(s.eq_QMRK([5, 3, 1], rseq([1, 3, 5])), "rseq,reverse"), kirbystdlibref.ensure_DASH_test((3 === (function(mo) {
      let bind = kirbystdlibref.getProp(mo, "bind");
      let unit = kirbystdlibref.getProp(mo, "unit");
      let zero = kirbystdlibref.getProp(mo, "zero");
      let ret = function() {
        let ____args = Array.prototype.slice.call(arguments);
        return ((kirbystdlibref.nichts_QMRK(____args[0]) && ((typeof (zero) !== "undefined"))) ?
          zero :
          unit(____args[0]));
      };
      return bind(1, function(a) {
        return bind(inc(a), function(b) {
          return (function() {
            return ret((a + b));
          }).call(this);
        });
      });
    })(s.monad_DASH_identity)), "identity monad"), (function() {
    try {
      (function(mo) {
        let bind = kirbystdlibref.getProp(mo, "bind");
        let unit = kirbystdlibref.getProp(mo, "unit");
        let zero = kirbystdlibref.getProp(mo, "zero");
        let ret = function() {
          let ____args = Array.prototype.slice.call(arguments);
          return ((kirbystdlibref.nichts_QMRK(____args[0]) && ((typeof (zero) !== "undefined"))) ?
            zero :
            unit(____args[0]));
        };
        return bind(null, function(a) {
          return bind(a, function(b) {
            return bind(b.toString(), function(c) {
              return (function() {
                return ret((a + b + c));
              }).call(this);
            });
          });
        });
      })(s.monad_DASH_identity);
      return kirbystdlibref.ensure_DASH_test_DASH_thrown("any", null, "identity monad->boom");
    } catch (e) {
      return kirbystdlibref.ensure_DASH_test_DASH_thrown("any", e, "identity monad->boom");
    }
  }).call(this), kirbystdlibref.ensure_DASH_test((3 === (function(mo) {
      let bind = kirbystdlibref.getProp(mo, "bind");
      let unit = kirbystdlibref.getProp(mo, "unit");
      let zero = kirbystdlibref.getProp(mo, "zero");
      let ret = function() {
        let ____args = Array.prototype.slice.call(arguments);
        return ((kirbystdlibref.nichts_QMRK(____args[0]) && ((typeof (zero) !== "undefined"))) ?
          zero :
          unit(____args[0]));
      };
      return bind(1, function(a) {
        return bind(inc(a), function(b) {
          return (function() {
            return ret((a + b));
          }).call(this);
        });
      });
    })(s.monad_DASH_maybe)), "maybe monad"), kirbystdlibref.ensure_DASH_test((((function(mo) {
      let bind = kirbystdlibref.getProp(mo, "bind");
      let unit = kirbystdlibref.getProp(mo, "unit");
      let zero = kirbystdlibref.getProp(mo, "zero");
      let ret = function() {
        let ____args = Array.prototype.slice.call(arguments);
        return ((kirbystdlibref.nichts_QMRK(____args[0]) && ((typeof (zero) !== "undefined"))) ?
          zero :
          unit(____args[0]));
      };
      return bind(1, function(a) {
        return bind(inc(a), function(b) {
          return bind(null, function(c) {
            return (function() {
              return ret((a + b + c));
            }).call(this);
          });
        });
      });
    })(s.monad_DASH_maybe) === null)), "maybe monad->nil"), kirbystdlibref.ensure_DASH_test(s.eq_QMRK([5, {
    "value": 5,
    "log": ["mult3(1)", "add2(3)"]
  }], (function(mo) {
    let bind = kirbystdlibref.getProp(mo, "bind");
    let unit = kirbystdlibref.getProp(mo, "unit");
    let zero = kirbystdlibref.getProp(mo, "zero");
    let ret = function() {
      let ____args = Array.prototype.slice.call(arguments);
      return ((kirbystdlibref.nichts_QMRK(____args[0]) && ((typeof (zero) !== "undefined"))) ?
        zero :
        unit(____args[0]));
    };
    return bind(exlog(mult3, "mult3"), function(c1) {
      return bind(exlog(add2, "add2"), function(c2) {
        return (function() {
          return ret(c2);
        }).call(this);
      });
    });
  })(s.monad_DASH_state)({
    "value": 1,
    "log": []
  })), "state monad"), kirbystdlibref.ensure_DASH_test((3 === std.monad_DASH_run_DASH_cont((function(mo) {
      let bind = kirbystdlibref.getProp(mo, "bind");
      let unit = kirbystdlibref.getProp(mo, "unit");
      let zero = kirbystdlibref.getProp(mo, "zero");
      let ret = function() {
        let ____args = Array.prototype.slice.call(arguments);
        return ((kirbystdlibref.nichts_QMRK(____args[0]) && ((typeof (zero) !== "undefined"))) ?
          zero :
          unit(____args[0]));
      };
      return bind((function(v) {
        return function(c) {
          return c(v);
        };
      })(1), function(x) {
        return bind((function(v) {
          return function(c) {
            return c(v);
          };
        })(2), function(y) {
          return (function() {
            return ret((x + y));
          }).call(this);
        });
      });
    })(std.monad_DASH_continuation))), "continuation monad"), kirbystdlibref.ensure_DASH_test((function() {
    let f = function(v) {
      return function(s) {
        return [v, s];
      };
    };
    let lhs = s.monad_DASH_state.bind(s.monad_DASH_state.unit(911), f);
    let rhs = f(911);
    let lf = lhs("hello");
    let rt = rhs("hello");
    return ((lf[0] === rt[0]) && (s.last(lf) === s.last(rt)));
  }).call(this), "monad rule 1: bind(unit(x), f) ≡ f(x)"), kirbystdlibref.ensure_DASH_test((function() {
    let mv = function(s) {
      return [3, s];
    };
    let lhs = s.monad_DASH_state.bind(mv, s.monad_DASH_state.unit);
    let lf = lhs("hello");
    let rt = mv("hello");
    return ((lf[0] === rt[0]) && (s.last(lf) === s.last(rt)));
  }).call(this), "monad rule 2: bind(m, unit) ≡ m"), kirbystdlibref.ensure_DASH_test((function() {
    let f = function(v) {
      return function(s) {
        return [3, s];
      };
    };
    let g = function(v) {
      return function(s) {
        return [5, s];
      };
    };
    let bb = s.monad_DASH_state.bind;
    let mv = function(s) {
      return [7, s];
    };
    let lhs = bb(bb(mv, f), g);
    let rhs = bb(mv, function(v) {
      return bb(f(v), g);
    });
    let lf = lhs("hello");
    let rt = rhs("hello");
    return ((lf[0] === rt[0]) && (s.last(lf) === s.last(rt)));
  }).call(this), str_STAR("monad rule 3:", " bind(bind(m, f), g)", " ≡ bind(m, v ⇒ bind(f(v), g))")), (function() {
    try {
      throw new Error(["hello", "world"].join(""));
      return kirbystdlibref.ensure_DASH_test_DASH_thrown("object", null, "raise!");
    } catch (e) {
      return kirbystdlibref.ensure_DASH_test_DASH_thrown("object", e, "raise!");
    }
  }).call(this), (function() {
    try {
      throw ["hello", "world"].join("");
      return kirbystdlibref.ensure_DASH_test_DASH_thrown("string", null, "trap!");
    } catch (e) {
      return kirbystdlibref.ensure_DASH_test_DASH_thrown("string", e, "trap!");
    }
  }).call(this), kirbystdlibref.ensure_DASH_test(("hello" === new Error("hello").message), "merror")];
};
s.println(std.run_DASH_test(test_DASH_stdlib, "Kirby stdlib test-suite"));
module.exports = {
  da57bc0172fb42438a11e6e8778f36fb: {
    ns: "czlab.kirby.test.stdlib",
    vars: ["test-stdlib"],
    macros: {}
  },
  test_DASH_stdlib: test_DASH_stdlib
};